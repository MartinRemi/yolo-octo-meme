<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Yolo-octo-meme by MartinRemi</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Yolo-octo-meme</h1>
        <h2></h2>
        <a href="https://github.com/MartinRemi/yolo-octo-meme" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="yolo-octo-meme" class="anchor" href="#yolo-octo-meme"><span class="octicon octicon-link"></span></a>yolo-octo-meme</h1>
          <canvas id="app" width="500" height="500"></canvas>

<br /><a href="demo" title"Demo page">Demo page</a>

<h2>
<a name="description-" class="anchor" href="#description-"><span class="octicon octicon-link"></span></a>Description :</h2>

<p>This 2D web game engine is not meant to overperform its competitors.
This project is led by three students in computing at INSA, Lyon, France for learning purposes.</p>

<h2>
<a name="some-of-its-features-" class="anchor" href="#some-of-its-features-"><span class="octicon octicon-link"></span></a>Some of its features :</h2>

<pre><code>* I/O :
    - Basic functions to handle Input events : keyboard and eventually touchscreen events
    - Sound management
* Display
    - Basic geometric shapes
    - Curves
    - Text
* Mathematics :
    - Features to handle matrix (i.e. the gameboard)
* Physics :
    - collision
    - acceleration
* Network :
    - Save game state
    - Function to set up multiplayer games
* Scripts :
    - LUA
    - or our own scripting language
</code></pre>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>To use our game engine, make sure to follow the instructions given in the "install.txt" file.</p>

<h2>
<a name="credits" class="anchor" href="#credits"><span class="octicon octicon-link"></span></a>Credits</h2>

<p>Jean Marchal - Contributor
Sergueï Lallement - Contributor</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/MartinRemi/yolo-octo-meme/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/MartinRemi/yolo-octo-meme/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>
          <a href="demo" class="button">
            <small>Open</small>
            demo pages
          </a>

          <p class="repo-owner"><a href="https://github.com/MartinRemi/yolo-octo-meme"></a> is maintained by <a href="https://github.com/MartinRemi">MartinRemi</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
  <script src="src/client/yom.js"></script>
  <script src="src/client/core/World.js"></script>
  <script src="src/client/geometry/Point.js"></script>
  <script src="src/client/geometry/Circle.js"></script>
  <script src="src/client/geometry/Line.js"></script>
  <script src="src/client/geometry/Polyline.js"></script>
  <script src="src/client/geometry/Polygon.js"></script>
  <script src="src/client/display/GraphicCircle.js"></script>
  <script src="src/client/display/GraphicLine.js"></script>
  <script src="src/client/display/GraphicPolyline.js"></script>
  <script src="src/client/display/GraphicPolygon.js"></script>
  <script src="src/client/display/GraphicText.js"></script>
  <script src="src/client/display/RenderManager.js"></script>
  <script src="src/client/display/DrawManager.js"></script>
  <script src="src/client/input/click_event_action.js"></script>
  <script src="src/client/input/InputManager.js"></script>
  <script src="src/client/core/Body.js"></script>
  <script src="src/client/math/Vector2.js"></script>
  <script src="src/client/physics/Force.js"></script>
  <script>
    var world = new yom.World("app", 500, 500);
    var drawManager = new yom.DrawManager(world);
    var renderManager = new yom.RenderManager(world, drawManager);
  
    var circle = new yom.Circle(250, 250, 50);
    var graphicCircle = new yom.GraphicCircle(
      circle,
      {
        z: 55,
        borderColor:'#34495e',
        borderWidth:3,
        fillColor: '#3498db'
      }
    );

    var line = new yom.Line(0, 0, 500, 500);
    var graphicLine1 = new yom.GraphicLine(
      line,
      {
        z: 50,
        borderColor:'#ff0000',
        borderWidth:1,
      }
    );

    var array = [100, 0, 160, 400, 500, 0];
    var polyline = new yom.Polyline(array);
    var graphicPolyline1 = new yom.GraphicPolyline(polyline,
      {
        z: 50,
        borderColor:'#C3C3C3',
        borderWidth:1
      }
    );

    var circle2 = new yom.Circle(100, 150, 20);
    var graphicCircle2 = new yom.GraphicCircle(
      circle2,
      {
        z: 60,
        borderColor:'#FFB345',
        borderWidth:1,
        fillColor: '#A6E409'
      }
    );
	
	// curve
	var style_curve_lines = {z:1, borderColor:'#444444',  borderWidth:2};
	var style_curve_lines_light = {z:0, borderColor:'#BBB',  borderWidth:1};
	var curve_lines = [];
	var graphic_curve_lines = [];
	var curve_sub_lines = [];
	var graphic_curve_sub_lines = [];
	var curve_list_size = 300;
	var curve_e = 1.0;
	var curve_t = 0.0;
	for(var i = 0; i<curve_list_size;++i){
		curve_lines[i] = new yom.Line(0,0,0,0);
		graphic_curve_lines[i] = new yom.GraphicLine(curve_lines[i],
				style_curve_lines);
		curve_sub_lines[i] = new yom.Line(0,0,0,0);
		graphic_curve_sub_lines[i] = new yom.GraphicLine(curve_sub_lines[i],
				style_curve_lines_light);
	}
	
	// conchoïde de rosace
	function computeCurve(e, offset, offset2){
		offset = 3.1415926536*offset || 0.0;
		offset2 = (3.1415926536*offset2) || 0.0;
		var radius = 100.0;
		// polar equation: 
		function eq(t){
			return radius*(1+e*Math.cos(n*t));
		}
		var p = 4.0;
		var n = 9.0/p;
		var origin = new yom.Vector2(world.width/2, world.height/2);
		var factor = 3.1415926536*2.0*p;
		var len = curve_lines.length;
		for(var i =0; i<len; ++i){
			var t = i/(len-1)*factor;
			var v1 = new yom.Vector2(Math.cos(t+offset), Math.sin(t+offset));
			v1.mul(eq(t));
			
			t = (i+1+offset2)/(len-1)*factor;// + offset2;
			var v2 = new yom.Vector2(Math.cos(t+offset), Math.sin(t+offset));
			v2.mul(eq(t));
			
			if(offset2 == 0.0){
				// the curve
				curve_lines[i].firstPoint = new yom.Vector2(origin.x+v1.x, origin.y+v1.y);
				curve_lines[i].secondPoint = new yom.Vector2(origin.x+v2.x, origin.y+v2.y);
			}else{
				// light grey lines:
				curve_sub_lines[i].firstPoint = new yom.Vector2(origin.x+v1.x, origin.y+v1.y);
				curve_sub_lines[i].secondPoint = new yom.Vector2(origin.x+v2.x, origin.y+v2.y);
			}
		}
	}
	
	// update the curve
	setInterval(function() {
			curve_t += 0.002;
			curve_e += 0.01;
			if(curve_e > 2.0){
				curve_e = 0.0;
			}
			var r_curve_e = curve_e-1.0;
			computeCurve(r_curve_e, curve_t);
			computeCurve(r_curve_e, curve_t, 3.0);
		}, 30);

	// display
    world.shapes[0] = graphicLine1;
    world.shapes[1] = graphicPolyline1;
    world.shapes[2] = new yom.GraphicText('YOM', '40px arial', 250, 270, 
            {z: 58, borderWidth:1, fillColor: '#34495e', borderColor: '#3498db'});
	for(var i =0;i<graphic_curve_lines.length;++i){
		world.shapes[3+i] = graphic_curve_lines[i];
	}
	for(var i =0;i<graphic_curve_sub_lines.length;++i){
		world.shapes[3+graphic_curve_lines.length+i] = graphic_curve_sub_lines[i];
	}

	// physics 
    world.bodies[0] = new yom.Body([graphicCircle2], 10);

    world.bodies[1] = new yom.Body([graphicCircle], 10);
    world.bodies[1].forces[0] = new yom.Force(new yom.Vector2(1, 1), new yom.Vector2(), yom.physics.force_type.OD);

    yom.start();

    yom.input.mapEvent(world, world , function() {alert('test') });
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-54433495-1', 'auto');
    ga('send', 'pageview');

  </script>
</html>
